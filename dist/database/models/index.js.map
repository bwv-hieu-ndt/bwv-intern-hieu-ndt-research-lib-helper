{"version":3,"sources":["../../../src/database/models/index.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst process = require('process');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../sequelize.config.js')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (\n      file.indexOf('.') !== 0 &&\n      file !== basename &&\n      file.slice(-3) === '.js' &&\n      file.indexOf('.test.js') === -1\n    );\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"],"mappings":";;;AAEA,IAAM,KAAK,QAAQ,IAAI;AACvB,IAAM,OAAO,QAAQ,MAAM;AAC3B,IAAM,YAAY,QAAQ,WAAW;AACrC,IAAM,UAAU,QAAQ,SAAS;AACjC,IAAM,WAAW,KAAK,SAAS,UAAU;AACzC,IAAM,MAAM,QAAQ,IAAI,YAAY;AACpC,IAAM,SAAS,QAAQ,YAAY,yBAAyB,EAAE,GAAG;AACjE,IAAM,KAAK,CAAC;AAEZ,IAAI;AACJ,IAAI,OAAO,kBAAkB;AAC3B,cAAY,IAAI,UAAU,QAAQ,IAAI,OAAO,gBAAgB,GAAG,MAAM;AACxE,OAAO;AACL,cAAY,IAAI,UAAU,OAAO,UAAU,OAAO,UAAU,OAAO,UAAU,MAAM;AACrF;AAEA,GACG,YAAY,SAAS,EACrB,OAAO,UAAQ;AACd,SACE,KAAK,QAAQ,GAAG,MAAM,KACtB,SAAS,YACT,KAAK,MAAM,EAAE,MAAM,SACnB,KAAK,QAAQ,UAAU,MAAM;AAEjC,CAAC,EACA,QAAQ,UAAQ;AACf,QAAM,QAAQ,QAAQ,KAAK,KAAK,WAAW,IAAI,CAAC,EAAE,WAAW,UAAU,SAAS;AAChF,KAAG,MAAM,IAAI,IAAI;AACnB,CAAC;AAEH,OAAO,KAAK,EAAE,EAAE,QAAQ,eAAa;AACnC,MAAI,GAAG,SAAS,EAAE,WAAW;AAC3B,OAAG,SAAS,EAAE,UAAU,EAAE;AAAA,EAC5B;AACF,CAAC;AAED,GAAG,YAAY;AACf,GAAG,YAAY;AAEf,OAAO,UAAU;","names":[]}